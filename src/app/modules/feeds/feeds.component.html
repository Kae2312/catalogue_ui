<div class="banner"
	style="background-image: url(src/images/bgi/banner.jpg); margin-bottom: 80px;">
</div>

<div class="container-fluid">
	<div class="offset-md-1 panel panel-warning">
		<div class="panel-heading">
			<h3 *ngIf="infoFeed != null">{{infoFeed.name}}</h3>
		</div>

		<div class="panel-body">
			<div *ngIf="infoFeed != null && infoFeed.latestValidation != null">
				<label> <span class="leading-label">{{'feed.period'|translate}}</span>
                		<span>{{infoFeed.latestValidation.startDate|date:'y-MM-dd'}}</span>
					<span class="leading-label">{{'feed.period_to'|translate}}</span> <span>{{infoFeed.latestValidation.endDate|date:'y-MM-dd'}}</span>
				</label>
			</div>
			<div *ngIf="infoFeed != null && infoFeed.latestValidation != null">
				<div>
					<label> <span class="leading-label">{{'feed.routes'|translate}}</span>
					 <span>{{infoFeed.latestValidation.routeCount}}</span>
					</label>

				</div>
				<div>
					<label> <span class="leading-label">{{'feed.trips'|translate}}</span>
						<span>{{infoFeed.latestValidation.tripCount}}</span>
					</label>
				</div>

			</div>
			<div *ngIf="sessionService.loggedIn && notesFeed && notesFeed.length> 0">
				<p class="leading-label">{{'feed.note.title'|translate}}</p>
				<ul>
					<li *ngFor="let comment of notesFeed"><strong>{{'feed.note.author'|translate}}
							{{comment.userEmail}}</strong><br /> <small><strong>{{'feed.note.date'|translate}}</strong>
							<i>{{comment.date|date:'y-MM-dd HH:mm:ss'}}</i></small><br />
						{{comment.body}}</li>
				</ul>
			</div>
			<div *ngIf="sessionService.loggedIn">
				<textarea [(ngModel)]="note"></textarea>
			</div>
		</div>

		<div *ngIf="sessionService.loggedIn" class="panel-footer">
			<button class="btn btn-validate" (click)="addNotesToFeed()">{{'feed.note.submit'|translate}}</button>
		</div>
	</div>
</div>
